<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promise</title>
</head>
<body>
    <script>
        // const p1 = new Promise((resolve,rejiect) => {
        //     resolve('zhangsan');
        //     // rejiect('err');
        //     // console.log('zhangsan');
        // }).then( res => {
        //     console.log(res);Pp
        //     return new Promise((resolve,reject) => {
        //         reject('404');
        //     })
        // }, err => {
        //     console.log(err);
        //     return err
        // })

        // console.log(p1);
        // p1.then(res => {
        //     console.log(res);
        // },err => {
        //     console.log(err);
        // })
        function loadImg(){
            return new Promise(( resolve,reject ) => {
                const myImage = new Image();
                myImage.src = 'https://lh3.googleusercontent.com/proxy/1Nb2sk6I_MPiS1epsq4EwQ1vLZseeKwPYycweGA-ft0BxaZ9qo7l4oWbQVOLhFPo0mi_sJRhNTi-5ZZPXj-1QFbBEZvtznHgfzJmuZQfu-6sxgfbbyZTdZTrgDM';
                // myImage.src = 'https://lh3.googleusercontent.com/proxy/1Nb2sk6I';
                // console.log('1111')
                myImage.onload = function(){
                    resolve('图片加载完成');
                    // console.log('图片加载完成');
                    document.body.appendChild(myImage);
                }
        
                myImage.onerror = function(){
                    reject('图片加载失败');
                    // console.log('图片加载失败');
                }
                // console.log('2222')
            })
        }

        loadImg().then(res => {
            console.log(res);
        }).catch(err => {
            console.log('err:',err)
        });
    </script>
</body>
</html>